#!/usr/bin/env node

var init = require('../lib/init')
var dist = require('../lib/dist')
var deploy = require('../lib/deploy')

var commander = require('commander');
commander
  .version('0.0.1')
  .option('-C, --chdir <path>', 'change the working directory')
  .option('-c, --config <path>', 'set config path. defaults to ./deploy.conf')

commander
  .command('init')
  .description('run init commands, create fad config file into project')
  .action(function(options){
    init()
  })

commander
  .command('dist')
  .description('run dist commands, distribute static resources')
  .action(function(options){
    dist()

  })

commander
  .command('deploy')
  .description('run deploy commands')
  .action(function(options){
    deploy.sync(options)
  });

commander.parse(process.argv);

if (!commander.args[0]) {
  commander.help();
}